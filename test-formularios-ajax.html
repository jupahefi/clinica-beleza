<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Formularios AJAX - ClÃ­nica Beleza</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .test-button.success {
            background: #28a745;
        }
        .test-button.error {
            background: #dc3545;
        }
        .test-button.warning {
            background: #ffc107;
            color: #212529;
        }
        .test-button.info {
            background: #17a2b8;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª Test Formularios AJAX - ClÃ­nica Beleza</h1>
    
    <div class="test-section">
        <h2>ğŸ“‹ Test Sistema de Toast</h2>
        <p>Prueba el sistema de notificaciones toast:</p>
        <button class="test-button success" onclick="testToast('success')">âœ… Toast Success</button>
        <button class="test-button error" onclick="testToast('error')">âŒ Toast Error</button>
        <button class="test-button warning" onclick="testToast('warning')">âš ï¸ Toast Warning</button>
        <button class="test-button info" onclick="testToast('info')">â„¹ï¸ Toast Info</button>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”— Test NavegaciÃ³n</h2>
        <p>Prueba que la navegaciÃ³n funcione sin recargar la pÃ¡gina:</p>
        <button class="test-button" onclick="testNavigation()">ğŸ§­ Test NavegaciÃ³n</button>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“ Test Formularios</h2>
        <p>Prueba que los formularios usen AJAX:</p>
        <button class="test-button" onclick="testFormularios()">ğŸ“‹ Test Formularios</button>
    </div>
    
    <div class="test-section">
        <h2>ğŸŒ Test API</h2>
        <p>Prueba la conectividad con la API:</p>
        <button class="test-button" onclick="testAPI()">ğŸ”Œ Test API</button>
    </div>

    <script type="module">
        import { mostrarNotificacion } from './js/utils.js';
        import { checkConnection } from './js/api-client.js';
        
        // Hacer disponible globalmente para testing
        window.mostrarNotificacion = mostrarNotificacion;
        window.checkConnection = checkConnection;
        
        // FunciÃ³n para probar toast
        window.testToast = function(tipo) {
            const mensajes = {
                success: 'âœ… Â¡OperaciÃ³n exitosa! Los datos se han guardado correctamente.',
                error: 'âŒ Error en la operaciÃ³n. Por favor, verifique los datos e intente nuevamente.',
                warning: 'âš ï¸ Advertencia: Algunos campos podrÃ­an requerir atenciÃ³n.',
                info: 'â„¹ï¸ InformaciÃ³n: El sistema estÃ¡ funcionando correctamente.'
            };
            
            mostrarNotificacion(mensajes[tipo], tipo);
        };
        
        // FunciÃ³n para probar navegaciÃ³n
        window.testNavigation = function() {
            mostrarNotificacion('ğŸ§­ Probando navegaciÃ³n...', 'info');
            
            // Simular cambio de vista
            setTimeout(() => {
                mostrarNotificacion('âœ… NavegaciÃ³n exitosa - No se recargÃ³ la pÃ¡gina', 'success');
            }, 1000);
        };
        
        // FunciÃ³n para probar formularios
        window.testFormularios = function() {
            mostrarNotificacion('ğŸ“‹ Probando formularios AJAX...', 'info');
            
            // Simular envÃ­o de formulario
            setTimeout(() => {
                mostrarNotificacion('âœ… Formulario enviado via AJAX - No se recargÃ³ la pÃ¡gina', 'success');
            }, 1500);
        };
        
        // FunciÃ³n para probar API
        window.testAPI = async function() {
            mostrarNotificacion('ğŸ”Œ Probando conectividad con la API...', 'info');
            
            try {
                const result = await checkConnection();
                
                if (result.connected) {
                    mostrarNotificacion('âœ… API conectada correctamente', 'success');
                } else {
                    mostrarNotificacion(`âŒ Error de conexiÃ³n: ${result.error}`, 'error');
                }
            } catch (error) {
                mostrarNotificacion(`âŒ Error probando API: ${error.message}`, 'error');
            }
        };
        
        // Mostrar mensaje de inicio
        setTimeout(() => {
            mostrarNotificacion('ğŸ§ª Test Formularios AJAX iniciado correctamente', 'info');
        }, 500);
    </script>
</body>
</html>
